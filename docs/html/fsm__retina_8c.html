<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERRETINA: recepción y transmisión de infrarrojos: common/src/fsm_retina.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="IMG-5246.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">PERRETINA: recepción y transmisión de infrarrojos<span id="projectnumber">&#160;MEJORAS</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('fsm__retina_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">fsm_retina.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Retina FSM main file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="fsm__retina_8h_source.html">fsm_retina.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="commands_8h_source.html">commands.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsm__button_8h_source.html">fsm_button.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsm__tx_8h_source.html">fsm_tx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsm__rx_8h_source.html">fsm_rx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="port__rgb_8h_source.html">port_rgb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="port__buzzer_8h_source.html">port_buzzer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="port__system_8h_source.html">port_system.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="port__sensor_8h_source.html">port_sensor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsm__sensor_8h_source.html">fsm_sensor.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div>
<p><a href="fsm__retina_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfsm__retina__t.html">fsm_retina_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to define the Retina FSM.  <a href="structfsm__retina__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1493910690d9420cf8b135851ed55211"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a1493910690d9420cf8b135851ed55211">COMMANDS_MEMORY_SIZE</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a1493910690d9420cf8b135851ed55211"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:adf764cbdea00d65edcd07bb9953ad2b7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460">WAIT_TX</a> = 0
, <br />
&#160;&#160;<a class="el" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>
, <br />
&#160;&#160;<a class="el" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a23afc23f75cb4a787e0ed942ed2ee6f8">SLEEP_RX</a>
, <br />
&#160;&#160;<a class="el" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a1ed7efe6469eb2a449a2ff9d22f6fc9e">SLEEP_TX</a>
, <br />
&#160;&#160;<a class="el" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a0666e7ee289b420b8f016b5269fa8244">EMERGENCY</a>
<br />
 }</td></tr>
<tr class="separator:adf764cbdea00d65edcd07bb9953ad2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaf6892230eba4f2df51bfade3a17c0b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#aaf6892230eba4f2df51bfade3a17c0b3">_process_rgb_code</a> (uint8_t rgb_id, uint32_t code, uint32_t buzzer_id)</td></tr>
<tr class="memdesc:aaf6892230eba4f2df51bfade3a17c0b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identify the command and light the corresponding color.  <br /></td></tr>
<tr class="separator:aaf6892230eba4f2df51bfade3a17c0b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa252d6804822c94f8c46898a5c70a255"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#aa252d6804822c94f8c46898a5c70a255">check_short_pressed</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:aa252d6804822c94f8c46898a5c70a255"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the button has been pressed fast to send a new command.  <br /></td></tr>
<tr class="separator:aa252d6804822c94f8c46898a5c70a255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659bcc80451aef1447a2b9084a8e7b68"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a659bcc80451aef1447a2b9084a8e7b68">check_long_pressed</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a659bcc80451aef1447a2b9084a8e7b68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the button has been pressed long to change between transmitter and receiver modes.  <br /></td></tr>
<tr class="separator:a659bcc80451aef1447a2b9084a8e7b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27791bcb353fd9bf513cf1fb124a84d5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a27791bcb353fd9bf513cf1fb124a84d5">check_code</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a27791bcb353fd9bf513cf1fb124a84d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there is a new code in the infrared receiver FSM.  <br /></td></tr>
<tr class="separator:a27791bcb353fd9bf513cf1fb124a84d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e569115408f9427a03aad6f4b067bb2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a6e569115408f9427a03aad6f4b067bb2">check_repetition</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a6e569115408f9427a03aad6f4b067bb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there has been a repetition.  <br /></td></tr>
<tr class="separator:a6e569115408f9427a03aad6f4b067bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831d11281556c3d19f17da6088ff7fec"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a831d11281556c3d19f17da6088ff7fec">check_error</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a831d11281556c3d19f17da6088ff7fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there it been received an erroneous code.  <br /></td></tr>
<tr class="separator:a831d11281556c3d19f17da6088ff7fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c31f180f16c2d66ef56e62004c83bc"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a91c31f180f16c2d66ef56e62004c83bc">check_activity</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a91c31f180f16c2d66ef56e62004c83bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if any of the elements of the system is active.  <br /></td></tr>
<tr class="separator:a91c31f180f16c2d66ef56e62004c83bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05439bd432881a570511d46a7d2ff699"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a05439bd432881a570511d46a7d2ff699">check_no_activity</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a05439bd432881a570511d46a7d2ff699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if all the is system active.  <br /></td></tr>
<tr class="separator:a05439bd432881a570511d46a7d2ff699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c11e47adb361d2d50808d69bfdb3595"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a3c11e47adb361d2d50808d69bfdb3595">check_no_light</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a3c11e47adb361d2d50808d69bfdb3595"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there is no light.  <br /></td></tr>
<tr class="separator:a3c11e47adb361d2d50808d69bfdb3595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb8fe5488bcd9f5abc08e6857a6c494e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#abb8fe5488bcd9f5abc08e6857a6c494e">check_light</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:abb8fe5488bcd9f5abc08e6857a6c494e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there is light.  <br /></td></tr>
<tr class="separator:abb8fe5488bcd9f5abc08e6857a6c494e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7660e69573bbf3e75ac151864e165b0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#ae7660e69573bbf3e75ac151864e165b0">do_send_next_msg</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:ae7660e69573bbf3e75ac151864e165b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the next code stored in memory after a short button press.  <br /></td></tr>
<tr class="separator:ae7660e69573bbf3e75ac151864e165b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaadcd4455f8b57c0cd0b3d7fdea7f43"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#adaadcd4455f8b57c0cd0b3d7fdea7f43">do_execute_code</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:adaadcd4455f8b57c0cd0b3d7fdea7f43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actuate according to the code received. This function can be used to act on the RGB LED or any other hardware.  <br /></td></tr>
<tr class="separator:adaadcd4455f8b57c0cd0b3d7fdea7f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1db678242efba8b80d622d06faa27978"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a1db678242efba8b80d622d06faa27978">do_rx_off_tx_on</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a1db678242efba8b80d622d06faa27978"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the system to transmitter mode.  <br /></td></tr>
<tr class="separator:a1db678242efba8b80d622d06faa27978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa65b37d943170fb5357a1f6de4c4d1f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#afa65b37d943170fb5357a1f6de4c4d1f">do_tx_off_rx_on</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:afa65b37d943170fb5357a1f6de4c4d1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the system to receiver mode.  <br /></td></tr>
<tr class="separator:afa65b37d943170fb5357a1f6de4c4d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d0fd454021efb6078f8daa758ef465"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a06d0fd454021efb6078f8daa758ef465">do_execute_repetition</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a06d0fd454021efb6078f8daa758ef465"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actuate accordingly when receiving a repetition.  <br /></td></tr>
<tr class="separator:a06d0fd454021efb6078f8daa758ef465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f95fb7d2a6655ee7897d0506a294994"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a5f95fb7d2a6655ee7897d0506a294994">do_discard_rx_and_reset</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a5f95fb7d2a6655ee7897d0506a294994"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discard and reset the code of the infrared receiver FSM.  <br /></td></tr>
<tr class="separator:a5f95fb7d2a6655ee7897d0506a294994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d4ce0528a8d396a267bad88a75cda92"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a3d4ce0528a8d396a267bad88a75cda92">do_sleep</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a3d4ce0528a8d396a267bad88a75cda92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the low power mode.  <br /></td></tr>
<tr class="separator:a3d4ce0528a8d396a267bad88a75cda92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fce8ac07b9bb4954b456efa07c5fd02"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a6fce8ac07b9bb4954b456efa07c5fd02">do_emergency</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a6fce8ac07b9bb4954b456efa07c5fd02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the emergency signal.  <br /></td></tr>
<tr class="separator:a6fce8ac07b9bb4954b456efa07c5fd02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff8fe46afdde801e420d5edf69edeffc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#aff8fe46afdde801e420d5edf69edeffc">do_no_emergency</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:aff8fe46afdde801e420d5edf69edeffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the emergency signal.  <br /></td></tr>
<tr class="separator:aff8fe46afdde801e420d5edf69edeffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9823bd87f7c4614be6433c70c4a971de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a9823bd87f7c4614be6433c70c4a971de">fsm_retina_new</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_button, uint32_t button_press_time, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_tx, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_rx, uint8_t rgb_id, uint8_t buzzer_id, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_sensor)</td></tr>
<tr class="memdesc:a9823bd87f7c4614be6433c70c4a971de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new RETINA FSM.  <br /></td></tr>
<tr class="separator:a9823bd87f7c4614be6433c70c4a971de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fdfc2d192b437766456e99ab2f88482"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a3fdfc2d192b437766456e99ab2f88482">fsm_retina_init</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_button, uint32_t button_press_time, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_tx, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_rx, uint8_t rgb_id, uint8_t buzzer_id, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_sensor)</td></tr>
<tr class="memdesc:a3fdfc2d192b437766456e99ab2f88482"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the infrared transmitter FSM.  <br /></td></tr>
<tr class="separator:a3fdfc2d192b437766456e99ab2f88482"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0654c24f16caff3a93f81f9164cb12db"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structfsm__trans__t.html">fsm_trans_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a0654c24f16caff3a93f81f9164cb12db">fsm_trans_retina</a> []</td></tr>
<tr class="memdesc:a0654c24f16caff3a93f81f9164cb12db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array representing the transitions table of the FSM Retina.  <br /></td></tr>
<tr class="separator:a0654c24f16caff3a93f81f9164cb12db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Retina FSM main file. </p>
<dl class="section author"><dt>Author</dt><dd>Hernán García Quijano </dd>
<dd>
Ángel Rodrigo Pérez Iglesias </dd></dl>
<dl class="section date"><dt>Date</dt><dd>23/03/2023 </dd></dl>

<p class="definition">Definition in file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1493910690d9420cf8b135851ed55211" name="a1493910690d9420cf8b135851ed55211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1493910690d9420cf8b135851ed55211">&#9670;&#160;</a></span>COMMANDS_MEMORY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMANDS_MEMORY_SIZE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of NEC commands stored in the memory of the system Retina </p>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00026">26</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="adf764cbdea00d65edcd07bb9953ad2b7" name="adf764cbdea00d65edcd07bb9953ad2b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf764cbdea00d65edcd07bb9953ad2b7">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460" name="adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460"></a>WAIT_TX&#160;</td><td class="fielddoc"><p><b>Single state in Version 2</b>. State to wait in transmission mode </p>
</td></tr>
<tr><td class="fieldname"><a id="adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308" name="adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308"></a>WAIT_RX&#160;</td><td class="fielddoc"><p><b>Single state in Version 2</b>. State to wait in reception mode </p>
</td></tr>
<tr><td class="fieldname"><a id="adf764cbdea00d65edcd07bb9953ad2b7a23afc23f75cb4a787e0ed942ed2ee6f8" name="adf764cbdea00d65edcd07bb9953ad2b7a23afc23f75cb4a787e0ed942ed2ee6f8"></a>SLEEP_RX&#160;</td><td class="fielddoc"><p><b>Single state in Version 4</b>. State to sleep in transmission mode </p>
</td></tr>
<tr><td class="fieldname"><a id="adf764cbdea00d65edcd07bb9953ad2b7a1ed7efe6469eb2a449a2ff9d22f6fc9e" name="adf764cbdea00d65edcd07bb9953ad2b7a1ed7efe6469eb2a449a2ff9d22f6fc9e"></a>SLEEP_TX&#160;</td><td class="fielddoc"><p><b>Single state in Version 4</b>. State to sleep in reception mode </p>
</td></tr>
<tr><td class="fieldname"><a id="adf764cbdea00d65edcd07bb9953ad2b7a0666e7ee289b420b8f016b5269fa8244" name="adf764cbdea00d65edcd07bb9953ad2b7a0666e7ee289b420b8f016b5269fa8244"></a>EMERGENCY&#160;</td><td class="fielddoc"><p><b>Single state in MEJORAS</b>. State of EMERGENCY when low light is detected </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00029">29</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aaf6892230eba4f2df51bfade3a17c0b3" name="aaf6892230eba4f2df51bfade3a17c0b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf6892230eba4f2df51bfade3a17c0b3">&#9670;&#160;</a></span>_process_rgb_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _process_rgb_code </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>rgb_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buzzer_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Identify the command and light the corresponding color. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rgb_id</td><td>RGB LED ID. Must be unique. </td></tr>
    <tr><td class="paramname">code</td><td>Code parsed that identifies a color. </td></tr>
    <tr><td class="paramname">buzzer_id</td><td>BUZZER ID. Must be unique. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00064">64</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a91c31f180f16c2d66ef56e62004c83bc" name="a91c31f180f16c2d66ef56e62004c83bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c31f180f16c2d66ef56e62004c83bc">&#9670;&#160;</a></span>check_activity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_activity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if any of the elements of the system is active. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00278">278</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a27791bcb353fd9bf513cf1fb124a84d5" name="a27791bcb353fd9bf513cf1fb124a84d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27791bcb353fd9bf513cf1fb124a84d5">&#9670;&#160;</a></span>check_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_code </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if there is a new code in the infrared receiver FSM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00238">238</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a831d11281556c3d19f17da6088ff7fec" name="a831d11281556c3d19f17da6088ff7fec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831d11281556c3d19f17da6088ff7fec">&#9670;&#160;</a></span>check_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if there it been received an erroneous code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00268">268</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="abb8fe5488bcd9f5abc08e6857a6c494e" name="abb8fe5488bcd9f5abc08e6857a6c494e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb8fe5488bcd9f5abc08e6857a6c494e">&#9670;&#160;</a></span>check_light()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_light </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if there is light. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00313">313</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a659bcc80451aef1447a2b9084a8e7b68" name="a659bcc80451aef1447a2b9084a8e7b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a659bcc80451aef1447a2b9084a8e7b68">&#9670;&#160;</a></span>check_long_pressed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_long_pressed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the button has been pressed long to change between transmitter and receiver modes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00226">226</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a05439bd432881a570511d46a7d2ff699" name="a05439bd432881a570511d46a7d2ff699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05439bd432881a570511d46a7d2ff699">&#9670;&#160;</a></span>check_no_activity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_no_activity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if all the is system active. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00292">292</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a3c11e47adb361d2d50808d69bfdb3595" name="a3c11e47adb361d2d50808d69bfdb3595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c11e47adb361d2d50808d69bfdb3595">&#9670;&#160;</a></span>check_no_light()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_no_light </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if there is no light. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00302">302</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a6e569115408f9427a03aad6f4b067bb2" name="a6e569115408f9427a03aad6f4b067bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e569115408f9427a03aad6f4b067bb2">&#9670;&#160;</a></span>check_repetition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_repetition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if there has been a repetition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00258">258</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="aa252d6804822c94f8c46898a5c70a255" name="aa252d6804822c94f8c46898a5c70a255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa252d6804822c94f8c46898a5c70a255">&#9670;&#160;</a></span>check_short_pressed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_short_pressed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the button has been pressed fast to send a new command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00214">214</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a5f95fb7d2a6655ee7897d0506a294994" name="a5f95fb7d2a6655ee7897d0506a294994"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f95fb7d2a6655ee7897d0506a294994">&#9670;&#160;</a></span>do_discard_rx_and_reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_discard_rx_and_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Discard and reset the code of the infrared receiver FSM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00368">368</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a6fce8ac07b9bb4954b456efa07c5fd02" name="a6fce8ac07b9bb4954b456efa07c5fd02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fce8ac07b9bb4954b456efa07c5fd02">&#9670;&#160;</a></span>do_emergency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_emergency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start the emergency signal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00383">383</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="adaadcd4455f8b57c0cd0b3d7fdea7f43" name="adaadcd4455f8b57c0cd0b3d7fdea7f43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaadcd4455f8b57c0cd0b3d7fdea7f43">&#9670;&#160;</a></span>do_execute_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_execute_code </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actuate according to the code received. This function can be used to act on the RGB LED or any other hardware. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00332">332</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a06d0fd454021efb6078f8daa758ef465" name="a06d0fd454021efb6078f8daa758ef465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06d0fd454021efb6078f8daa758ef465">&#9670;&#160;</a></span>do_execute_repetition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_execute_repetition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actuate accordingly when receiving a repetition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00360">360</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="aff8fe46afdde801e420d5edf69edeffc" name="aff8fe46afdde801e420d5edf69edeffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff8fe46afdde801e420d5edf69edeffc">&#9670;&#160;</a></span>do_no_emergency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_no_emergency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start the emergency signal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00392">392</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a1db678242efba8b80d622d06faa27978" name="a1db678242efba8b80d622d06faa27978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db678242efba8b80d622d06faa27978">&#9670;&#160;</a></span>do_rx_off_tx_on()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_rx_off_tx_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch the system to transmitter mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00341">341</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="ae7660e69573bbf3e75ac151864e165b0" name="ae7660e69573bbf3e75ac151864e165b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7660e69573bbf3e75ac151864e165b0">&#9670;&#160;</a></span>do_send_next_msg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_send_next_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transmit the next code stored in memory after a short button press. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00322">322</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a3d4ce0528a8d396a267bad88a75cda92" name="a3d4ce0528a8d396a267bad88a75cda92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d4ce0528a8d396a267bad88a75cda92">&#9670;&#160;</a></span>do_sleep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_sleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start the low power mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00376">376</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="afa65b37d943170fb5357a1f6de4c4d1f" name="afa65b37d943170fb5357a1f6de4c4d1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa65b37d943170fb5357a1f6de4c4d1f">&#9670;&#160;</a></span>do_tx_off_rx_on()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_tx_off_rx_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch the system to receiver mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00350">350</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a3fdfc2d192b437766456e99ab2f88482" name="a3fdfc2d192b437766456e99ab2f88482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fdfc2d192b437766456e99ab2f88482">&#9670;&#160;</a></span>fsm_retina_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsm_retina_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_button</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>button_press_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_rx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>rgb_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>buzzer_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_sensor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the infrared transmitter FSM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
    <tr><td class="paramname">p_fsm_button</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an fsm_button_t. </td></tr>
    <tr><td class="paramname">button_press_time</td><td>Duration in ms of the button press to change between transmitter and receiver modes. </td></tr>
    <tr><td class="paramname">p_fsm_tx</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__tx__t.html" title="Structure to define the Infrared transmitter FSM.">fsm_tx_t</a>. </td></tr>
    <tr><td class="paramname">p_fsm_rx</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__rx__t.html" title="Structure to define the infrared receiver FSM.">fsm_rx_t</a>. Added in Version 3. </td></tr>
    <tr><td class="paramname">rgb_id</td><td>Unique RGB identifier number. Added in Version 3. </td></tr>
    <tr><td class="paramname">buzzer_id</td><td>Unique RGB identifier number. Added in MEJORAS. </td></tr>
    <tr><td class="paramname">p_fsm_sensor</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an fsm_sensor_t. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00432">432</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<a id="a9823bd87f7c4614be6433c70c4a971de" name="a9823bd87f7c4614be6433c70c4a971de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9823bd87f7c4614be6433c70c4a971de">&#9670;&#160;</a></span>fsm_retina_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsm__t.html">fsm_t</a> * fsm_retina_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_button</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>button_press_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_rx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>rgb_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>buzzer_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_sensor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new RETINA FSM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_fsm_button</td><td>User button FSM. </td></tr>
    <tr><td class="paramname">button_press_time</td><td>Duration in ms of the button press to change between transmitter and receiver modes. </td></tr>
    <tr><td class="paramname">p_fsm_tx</td><td>Infrared transmitter FSM. </td></tr>
    <tr><td class="paramname">p_fsm_rx</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an <a class="el" href="structfsm__rx__t.html" title="Structure to define the infrared receiver FSM.">fsm_rx_t</a>. Added in Version 3. </td></tr>
    <tr><td class="paramname">rgb_id</td><td>Unique RGB identifier number. Added in Version 3. </td></tr>
    <tr><td class="paramname">buzzer_id</td><td>Unique RGB identifier number. Added in MEJORAS. </td></tr>
    <tr><td class="paramname">p_fsm_sensor</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct than contains an fsm_sensor_t. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the Retina FSM. </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00425">425</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0654c24f16caff3a93f81f9164cb12db" name="a0654c24f16caff3a93f81f9164cb12db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0654c24f16caff3a93f81f9164cb12db">&#9670;&#160;</a></span>fsm_trans_retina</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsm__trans__t.html">fsm_trans_t</a> fsm_trans_retina[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina_8c.html#aa252d6804822c94f8c46898a5c70a255">check_short_pressed</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina_8c.html#ae7660e69573bbf3e75ac151864e165b0">do_send_next_msg</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a659bcc80451aef1447a2b9084a8e7b68">check_long_pressed</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#afa65b37d943170fb5357a1f6de4c4d1f">do_tx_off_rx_on</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a27791bcb353fd9bf513cf1fb124a84d5">check_code</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#adaadcd4455f8b57c0cd0b3d7fdea7f43">do_execute_code</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a6e569115408f9427a03aad6f4b067bb2">check_repetition</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a06d0fd454021efb6078f8daa758ef465">do_execute_repetition</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a831d11281556c3d19f17da6088ff7fec">check_error</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a5f95fb7d2a6655ee7897d0506a294994">do_discard_rx_and_reset</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a659bcc80451aef1447a2b9084a8e7b68">check_long_pressed</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a1db678242efba8b80d622d06faa27978">do_rx_off_tx_on</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a23afc23f75cb4a787e0ed942ed2ee6f8">SLEEP_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a91c31f180f16c2d66ef56e62004c83bc">check_activity</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, NULL},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a23afc23f75cb4a787e0ed942ed2ee6f8">SLEEP_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a05439bd432881a570511d46a7d2ff699">check_no_activity</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a23afc23f75cb4a787e0ed942ed2ee6f8">SLEEP_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a3d4ce0528a8d396a267bad88a75cda92">do_sleep</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a05439bd432881a570511d46a7d2ff699">check_no_activity</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a23afc23f75cb4a787e0ed942ed2ee6f8">SLEEP_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a3d4ce0528a8d396a267bad88a75cda92">do_sleep</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a1ed7efe6469eb2a449a2ff9d22f6fc9e">SLEEP_TX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a91c31f180f16c2d66ef56e62004c83bc">check_activity</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, NULL},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a1ed7efe6469eb2a449a2ff9d22f6fc9e">SLEEP_TX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a05439bd432881a570511d46a7d2ff699">check_no_activity</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a1ed7efe6469eb2a449a2ff9d22f6fc9e">SLEEP_TX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a3d4ce0528a8d396a267bad88a75cda92">do_sleep</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a05439bd432881a570511d46a7d2ff699">check_no_activity</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a1ed7efe6469eb2a449a2ff9d22f6fc9e">SLEEP_TX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a3d4ce0528a8d396a267bad88a75cda92">do_sleep</a>},</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#a3c11e47adb361d2d50808d69bfdb3595">check_no_light</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a0666e7ee289b420b8f016b5269fa8244">EMERGENCY</a>, <a class="code hl_function" href="fsm__retina_8c.html#a6fce8ac07b9bb4954b456efa07c5fd02">do_emergency</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a0666e7ee289b420b8f016b5269fa8244">EMERGENCY</a>, <a class="code hl_function" href="fsm__retina_8c.html#abb8fe5488bcd9f5abc08e6857a6c494e">check_light</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina_8c.html#aff8fe46afdde801e420d5edf69edeffc">do_no_emergency</a>},</div>
<div class="line">    </div>
<div class="line"> </div>
<div class="line">    {-1, NULL, -1, NULL}</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="ttc" id="afsm__retina_8c_html_a05439bd432881a570511d46a7d2ff699"><div class="ttname"><a href="fsm__retina_8c.html#a05439bd432881a570511d46a7d2ff699">check_no_activity</a></div><div class="ttdeci">static bool check_no_activity(fsm_t *p_this)</div><div class="ttdoc">Check if all the is system active.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00292">fsm_retina.c:292</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_a06d0fd454021efb6078f8daa758ef465"><div class="ttname"><a href="fsm__retina_8c.html#a06d0fd454021efb6078f8daa758ef465">do_execute_repetition</a></div><div class="ttdeci">static void do_execute_repetition(fsm_t *p_this)</div><div class="ttdoc">Actuate accordingly when receiving a repetition.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00360">fsm_retina.c:360</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_a1db678242efba8b80d622d06faa27978"><div class="ttname"><a href="fsm__retina_8c.html#a1db678242efba8b80d622d06faa27978">do_rx_off_tx_on</a></div><div class="ttdeci">static void do_rx_off_tx_on(fsm_t *p_this)</div><div class="ttdoc">Switch the system to transmitter mode.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00341">fsm_retina.c:341</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_a27791bcb353fd9bf513cf1fb124a84d5"><div class="ttname"><a href="fsm__retina_8c.html#a27791bcb353fd9bf513cf1fb124a84d5">check_code</a></div><div class="ttdeci">static bool check_code(fsm_t *p_this)</div><div class="ttdoc">Check if there is a new code in the infrared receiver FSM.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00238">fsm_retina.c:238</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_a3c11e47adb361d2d50808d69bfdb3595"><div class="ttname"><a href="fsm__retina_8c.html#a3c11e47adb361d2d50808d69bfdb3595">check_no_light</a></div><div class="ttdeci">static bool check_no_light(fsm_t *p_this)</div><div class="ttdoc">Check if there is no light.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00302">fsm_retina.c:302</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_a3d4ce0528a8d396a267bad88a75cda92"><div class="ttname"><a href="fsm__retina_8c.html#a3d4ce0528a8d396a267bad88a75cda92">do_sleep</a></div><div class="ttdeci">static void do_sleep(fsm_t *p_this)</div><div class="ttdoc">Start the low power mode.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00376">fsm_retina.c:376</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_a5f95fb7d2a6655ee7897d0506a294994"><div class="ttname"><a href="fsm__retina_8c.html#a5f95fb7d2a6655ee7897d0506a294994">do_discard_rx_and_reset</a></div><div class="ttdeci">static void do_discard_rx_and_reset(fsm_t *p_this)</div><div class="ttdoc">Discard and reset the code of the infrared receiver FSM.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00368">fsm_retina.c:368</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_a659bcc80451aef1447a2b9084a8e7b68"><div class="ttname"><a href="fsm__retina_8c.html#a659bcc80451aef1447a2b9084a8e7b68">check_long_pressed</a></div><div class="ttdeci">static bool check_long_pressed(fsm_t *p_this)</div><div class="ttdoc">Check if the button has been pressed long to change between transmitter and receiver modes.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00226">fsm_retina.c:226</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_a6e569115408f9427a03aad6f4b067bb2"><div class="ttname"><a href="fsm__retina_8c.html#a6e569115408f9427a03aad6f4b067bb2">check_repetition</a></div><div class="ttdeci">static bool check_repetition(fsm_t *p_this)</div><div class="ttdoc">Check if there has been a repetition.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00258">fsm_retina.c:258</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_a6fce8ac07b9bb4954b456efa07c5fd02"><div class="ttname"><a href="fsm__retina_8c.html#a6fce8ac07b9bb4954b456efa07c5fd02">do_emergency</a></div><div class="ttdeci">static void do_emergency(fsm_t *p_this)</div><div class="ttdoc">Start the emergency signal.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00383">fsm_retina.c:383</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_a831d11281556c3d19f17da6088ff7fec"><div class="ttname"><a href="fsm__retina_8c.html#a831d11281556c3d19f17da6088ff7fec">check_error</a></div><div class="ttdeci">static bool check_error(fsm_t *p_this)</div><div class="ttdoc">Check if there it been received an erroneous code.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00268">fsm_retina.c:268</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_a91c31f180f16c2d66ef56e62004c83bc"><div class="ttname"><a href="fsm__retina_8c.html#a91c31f180f16c2d66ef56e62004c83bc">check_activity</a></div><div class="ttdeci">static bool check_activity(fsm_t *p_this)</div><div class="ttdoc">Check if any of the elements of the system is active.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00278">fsm_retina.c:278</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_aa252d6804822c94f8c46898a5c70a255"><div class="ttname"><a href="fsm__retina_8c.html#aa252d6804822c94f8c46898a5c70a255">check_short_pressed</a></div><div class="ttdeci">static bool check_short_pressed(fsm_t *p_this)</div><div class="ttdoc">Check if the button has been pressed fast to send a new command.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00214">fsm_retina.c:214</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_abb8fe5488bcd9f5abc08e6857a6c494e"><div class="ttname"><a href="fsm__retina_8c.html#abb8fe5488bcd9f5abc08e6857a6c494e">check_light</a></div><div class="ttdeci">static bool check_light(fsm_t *p_this)</div><div class="ttdoc">Check if there is light.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00313">fsm_retina.c:313</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_adaadcd4455f8b57c0cd0b3d7fdea7f43"><div class="ttname"><a href="fsm__retina_8c.html#adaadcd4455f8b57c0cd0b3d7fdea7f43">do_execute_code</a></div><div class="ttdeci">static void do_execute_code(fsm_t *p_this)</div><div class="ttdoc">Actuate according to the code received. This function can be used to act on the RGB LED or any other ...</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00332">fsm_retina.c:332</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_adf764cbdea00d65edcd07bb9953ad2b7a0666e7ee289b420b8f016b5269fa8244"><div class="ttname"><a href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a0666e7ee289b420b8f016b5269fa8244">EMERGENCY</a></div><div class="ttdeci">@ EMERGENCY</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00036">fsm_retina.c:35</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_adf764cbdea00d65edcd07bb9953ad2b7a1ed7efe6469eb2a449a2ff9d22f6fc9e"><div class="ttname"><a href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a1ed7efe6469eb2a449a2ff9d22f6fc9e">SLEEP_TX</a></div><div class="ttdeci">@ SLEEP_TX</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00034">fsm_retina.c:34</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_adf764cbdea00d65edcd07bb9953ad2b7a23afc23f75cb4a787e0ed942ed2ee6f8"><div class="ttname"><a href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a23afc23f75cb4a787e0ed942ed2ee6f8">SLEEP_RX</a></div><div class="ttdeci">@ SLEEP_RX</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00033">fsm_retina.c:33</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460"><div class="ttname"><a href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460">WAIT_TX</a></div><div class="ttdeci">@ WAIT_TX</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00031">fsm_retina.c:31</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308"><div class="ttname"><a href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a></div><div class="ttdeci">@ WAIT_RX</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00032">fsm_retina.c:32</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_ae7660e69573bbf3e75ac151864e165b0"><div class="ttname"><a href="fsm__retina_8c.html#ae7660e69573bbf3e75ac151864e165b0">do_send_next_msg</a></div><div class="ttdeci">static void do_send_next_msg(fsm_t *p_this)</div><div class="ttdoc">Transmit the next code stored in memory after a short button press.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00322">fsm_retina.c:322</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_afa65b37d943170fb5357a1f6de4c4d1f"><div class="ttname"><a href="fsm__retina_8c.html#afa65b37d943170fb5357a1f6de4c4d1f">do_tx_off_rx_on</a></div><div class="ttdeci">static void do_tx_off_rx_on(fsm_t *p_this)</div><div class="ttdoc">Switch the system to receiver mode.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00350">fsm_retina.c:350</a></div></div>
<div class="ttc" id="afsm__retina_8c_html_aff8fe46afdde801e420d5edf69edeffc"><div class="ttname"><a href="fsm__retina_8c.html#aff8fe46afdde801e420d5edf69edeffc">do_no_emergency</a></div><div class="ttdeci">static void do_no_emergency(fsm_t *p_this)</div><div class="ttdoc">Start the emergency signal.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00392">fsm_retina.c:392</a></div></div>
</div><!-- fragment -->
<p>Array representing the transitions table of the FSM Retina. </p>

<p class="definition">Definition at line <a class="el" href="fsm__retina_8c_source.html#l00400">400</a> of file <a class="el" href="fsm__retina_8c_source.html">fsm_retina.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bdd9a5d540de89e9fe90efdfc6973a4f.html">common</a></li><li class="navelem"><a class="el" href="dir_4e4d22e38ca4e2e8207825ee2d00bc54.html">src</a></li><li class="navelem"><a class="el" href="fsm__retina_8c.html">fsm_retina.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
